<div class="flex h-screen">

  <div class="w-[50%]">
    <form (ngSubmit)="onFormSubmit()" [formGroup]="userForm">
      
      <div class="mt-2">
        <label for="name" class="font-bold">Name</label>
        <input type="text" class="w-full p-2 border-2 rounded-sm mt-2" formControlName="fullname"/>
      </div>
    
      <div class="mt-2">
        <label for="email" class="font-bold">Email</label>
        <input type="text" class="w-full p-2 border-2 rounded-sm mt-2" formControlName="email"/>
      </div>

      <div class="mt-2">
        <label for="age" class="font-bold">Age</label>
        <input type="text" class="w-full p-2 border-2 rounded-sm mt-2" formControlName="age"/>
      </div>

      <div class="mt-2">
        <label for="bloodGroup" class="font-bold">bloodGroup</label>
        <input type="text" class="w-full p-2 border-2 rounded-sm mt-2" formControlName="bloodgroup"/>
      </div>

      <div class="mt-2">
        <label for="address" class="font-bold">Address</label>
        <input type="text" class="w-full p-2 border-2 rounded-sm mt-2" formControlName="address"/>
      </div>

      <div class="mt-2">
        <label for="phonenumber" class="font-bold">Phone Number</label>
        <input type="text" class="w-full p-2 border-2 rounded-sm mt-2" formControlName="phonenumber"/>
      </div>

      <div class="mt-2">
        <button type="submit" class="bg-slate-800 text-white px-4 py-2 rounded-sm w-full">add</button>
      </div>

    </form>
  </div>
  <div class="overflow-auto w-[50%]">
    @if (users$ | async; as users) {
      @if(users.length > 0){
        <ul>
          @for (item of users; track $index) {
            <li class="p-2 bg-slate-100 border-b-2 border-slate-200">
              <span class="font-light text-3xl">{{ item.fullName }}</span>

              <div class="flex gap-10 mt-4">
                <span class="flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 9v.906a2.25 2.25 0 0 1-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 0 0 1.183 1.981l6.478 3.488m8.839 2.51-4.66-2.51m0 0-1.023-.55a2.25 2.25 0 0 0-2.134 0l-1.022.55m0 0-4.661 2.51m16.5 1.615a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V8.844a2.25 2.25 0 0 1 1.183-1.981l7.5-4.039a2.25 2.25 0 0 1 2.134 0l7.5 4.039a2.25 2.25 0 0 1 1.183 1.98V19.5Z" />
                  </svg>
                  
                  <span class="ms-2">{{item.email}}</span>
                </span>
                
                <span class="flex gap-2 mt-4">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                  </svg>
                  <span class="ms-2">{{item.age}}</span>                  
                </span>

                <span class="flex gap-2 mt-4">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z" />
                  </svg>
                  
                  <span class="ms-2">{{item.bloodGroup}}</span>                  
                </span>

                <span class="flex gap-2 mt-4">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                  </svg>
                  
                  <span class="ms-2">{{item.address}}</span>                  
                </span>

                <span class="flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
                  </svg>
                  
                  
                  <span class="ms-2">{{item.mobile}}</span>
                </span>
              </div>

              <button class="bg-red-500 text-white" (click)="delete(item.userId);">Delete</button>

            </li>  
          }
        </ul>
      }
      @else {
        <p> No users</p>
      }
    }
  </div>

</div>

